"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/page",{

/***/ "(app-pages-browser)/./src/lib/adminCourseService.ts":
/*!***************************************!*\
  !*** ./src/lib/adminCourseService.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdminCourseService: () => (/* binding */ AdminCourseService)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabaseClient */ \"(app-pages-browser)/./src/lib/supabaseClient.ts\");\n/* harmony import */ var _adminAuth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./adminAuth */ \"(app-pages-browser)/./src/lib/adminAuth.ts\");\n\n\nclass AdminCourseService {\n    /**\n   * Obtiene todos los cursos (admin)\n   */ static async getAllCourses(userId) {\n        try {\n            const adminCheck = await _adminAuth__WEBPACK_IMPORTED_MODULE_1__.AdminAuthService.requireAdmin(userId);\n            if (!adminCheck.isAdmin) {\n                return {\n                    success: false,\n                    error: adminCheck.error\n                };\n            }\n            const supabase = (0,_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.createClientSupabaseClient)();\n            const { data, error } = await supabase.from('courses').select(\"\\n          *,\\n          categories (\\n            name,\\n            slug\\n          ),\\n          profiles (\\n            full_name,\\n            email\\n          )\\n        \").order('created_at', {\n                ascending: false\n            });\n            if (error) throw error;\n            return {\n                success: true,\n                data: data\n            };\n        } catch (error) {\n            console.error('Error fetching courses:', error);\n            return {\n                success: false,\n                error: error.message || 'Error al obtener cursos'\n            };\n        }\n    }\n    /**\n   * Crea un nuevo curso\n   */ static async createCourse(userId, courseData) {\n        try {\n            const adminCheck = await _adminAuth__WEBPACK_IMPORTED_MODULE_1__.AdminAuthService.requireAdmin(userId);\n            if (!adminCheck.isAdmin) {\n                return {\n                    success: false,\n                    error: adminCheck.error\n                };\n            }\n            const supabase = (0,_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.createClientSupabaseClient)();\n            // Sanitizar campos opcionales: convertir \"\" a null y asegurar tipos\n            const payload = {\n                ...courseData,\n                instructor_id: userId,\n                is_published: courseData.is_published || false,\n                rating: 0,\n                students_count: 0\n            };\n            if (!courseData.category_id) payload.category_id = null;\n            if (!courseData.image_url) payload.image_url = null;\n            if (!courseData.video_preview_url) payload.video_preview_url = null;\n            if (!courseData.duration) payload.duration = null;\n            // Asegurar número en price\n            payload.price = Number.isFinite(courseData.price) ? courseData.price : 0;\n            const { data, error } = await supabase.from('courses').insert(payload).select().single();\n            if (error) throw error;\n            return {\n                success: true,\n                data: data\n            };\n        } catch (error) {\n            console.error('Error creating course:', error);\n            return {\n                success: false,\n                error: error.message || 'Error al crear curso'\n            };\n        }\n    }\n    /**\n   * Actualiza un curso\n   */ static async updateCourse(userId, courseId, courseData) {\n        try {\n            const adminCheck = await _adminAuth__WEBPACK_IMPORTED_MODULE_1__.AdminAuthService.requireAdmin(userId);\n            if (!adminCheck.isAdmin) {\n                return {\n                    success: false,\n                    error: adminCheck.error\n                };\n            }\n            const supabase = (0,_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.createClientSupabaseClient)();\n            // Sanitizar: convertir strings vacíos a null para columnas UUID/URL/text opcionales\n            const patch = {\n                ...courseData\n            };\n            if (patch.category_id === '') patch.category_id = null;\n            if (patch.image_url === '') patch.image_url = null;\n            if (patch.video_preview_url === '') patch.video_preview_url = null;\n            if (patch.duration === '') patch.duration = null;\n            if (typeof patch.price !== 'undefined') patch.price = Number(patch.price) || 0;\n            const { data, error } = await supabase.from('courses').update(patch).eq('id', courseId).select().single();\n            if (error) throw error;\n            return {\n                success: true,\n                data: data\n            };\n        } catch (error) {\n            console.error('Error updating course:', error);\n            return {\n                success: false,\n                error: error.message || 'Error al actualizar curso'\n            };\n        }\n    }\n    /**\n   * Elimina un curso\n   */ static async deleteCourse(userId, courseId) {\n        try {\n            const adminCheck = await _adminAuth__WEBPACK_IMPORTED_MODULE_1__.AdminAuthService.requireAdmin(userId);\n            if (!adminCheck.isAdmin) {\n                return {\n                    success: false,\n                    error: adminCheck.error\n                };\n            }\n            const supabase = (0,_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.createClientSupabaseClient)();\n            const { error } = await supabase.from('courses').delete().eq('id', courseId);\n            if (error) throw error;\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error('Error deleting course:', error);\n            return {\n                success: false,\n                error: error.message || 'Error al eliminar curso'\n            };\n        }\n    }\n    /**\n   * Obtiene las lecciones de un curso\n   */ static async getCourseLessons(userId, courseId) {\n        try {\n            const adminCheck = await _adminAuth__WEBPACK_IMPORTED_MODULE_1__.AdminAuthService.requireAdmin(userId);\n            if (!adminCheck.isAdmin) {\n                return {\n                    success: false,\n                    error: adminCheck.error\n                };\n            }\n            const supabase = (0,_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.createClientSupabaseClient)();\n            const { data, error } = await supabase.from('lessons').select('*').eq('course_id', courseId).order('order_index', {\n                ascending: true\n            });\n            if (error) throw error;\n            return {\n                success: true,\n                data: data\n            };\n        } catch (error) {\n            console.error('Error fetching lessons:', error);\n            return {\n                success: false,\n                error: error.message || 'Error al obtener lecciones'\n            };\n        }\n    }\n    /**\n   * Crea una nueva lección\n   */ static async createLesson(userId, lessonData) {\n        try {\n            const adminCheck = await _adminAuth__WEBPACK_IMPORTED_MODULE_1__.AdminAuthService.requireAdmin(userId);\n            if (!adminCheck.isAdmin) {\n                return {\n                    success: false,\n                    error: adminCheck.error\n                };\n            }\n            const supabase = (0,_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.createClientSupabaseClient)();\n            const { data, error } = await supabase.from('lessons').insert({\n                ...lessonData,\n                is_free: lessonData.is_free || false\n            }).select().single();\n            if (error) throw error;\n            return {\n                success: true,\n                data: data\n            };\n        } catch (error) {\n            console.error('Error creating lesson:', error);\n            return {\n                success: false,\n                error: error.message || 'Error al crear lección'\n            };\n        }\n    }\n    /**\n   * Actualiza una lección\n   */ static async updateLesson(userId, lessonId, lessonData) {\n        try {\n            const adminCheck = await _adminAuth__WEBPACK_IMPORTED_MODULE_1__.AdminAuthService.requireAdmin(userId);\n            if (!adminCheck.isAdmin) {\n                return {\n                    success: false,\n                    error: adminCheck.error\n                };\n            }\n            const supabase = (0,_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.createClientSupabaseClient)();\n            const { data, error } = await supabase.from('lessons').update(lessonData).eq('id', lessonId).select().single();\n            if (error) throw error;\n            return {\n                success: true,\n                data: data\n            };\n        } catch (error) {\n            console.error('Error updating lesson:', error);\n            return {\n                success: false,\n                error: error.message || 'Error al actualizar lección'\n            };\n        }\n    }\n    /**\n   * Elimina una lección\n   */ static async deleteLesson(userId, lessonId) {\n        try {\n            const adminCheck = await _adminAuth__WEBPACK_IMPORTED_MODULE_1__.AdminAuthService.requireAdmin(userId);\n            if (!adminCheck.isAdmin) {\n                return {\n                    success: false,\n                    error: adminCheck.error\n                };\n            }\n            const supabase = (0,_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.createClientSupabaseClient)();\n            const { error } = await supabase.from('lessons').delete().eq('id', lessonId);\n            if (error) throw error;\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error('Error deleting lesson:', error);\n            return {\n                success: false,\n                error: error.message || 'Error al eliminar lección'\n            };\n        }\n    }\n    /**\n   * Obtiene todas las categorías\n   */ static async getCategories(userId) {\n        try {\n            const adminCheck = await _adminAuth__WEBPACK_IMPORTED_MODULE_1__.AdminAuthService.requireAdmin(userId);\n            if (!adminCheck.isAdmin) {\n                return {\n                    success: false,\n                    error: adminCheck.error\n                };\n            }\n            const supabase = (0,_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.createClientSupabaseClient)();\n            const { data, error } = await supabase.from('categories').select('*').order('name', {\n                ascending: true\n            });\n            if (error) throw error;\n            return {\n                success: true,\n                data\n            };\n        } catch (error) {\n            console.error('Error fetching categories:', error);\n            return {\n                success: false,\n                error: error.message || 'Error al obtener categorías'\n            };\n        }\n    }\n    /**\n   * Publica/despublica un curso\n   */ static async toggleCoursePublication(userId, courseId, isPublished) {\n        try {\n            const adminCheck = await _adminAuth__WEBPACK_IMPORTED_MODULE_1__.AdminAuthService.requireAdmin(userId);\n            if (!adminCheck.isAdmin) {\n                return {\n                    success: false,\n                    error: adminCheck.error\n                };\n            }\n            const supabase = (0,_lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.createClientSupabaseClient)();\n            const { error } = await supabase.from('courses').update({\n                is_published: isPublished\n            }).eq('id', courseId);\n            if (error) throw error;\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error('Error toggling course publication:', error);\n            return {\n                success: false,\n                error: error.message || 'Error al cambiar estado de publicación'\n            };\n        }\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvYWRtaW5Db3Vyc2VTZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRTtBQUNuQjtBQTJEdkMsTUFBTUU7SUFDWDs7R0FFQyxHQUNELGFBQWFDLGNBQWNDLE1BQWMsRUFBdUU7UUFDOUcsSUFBSTtZQUNGLE1BQU1DLGFBQWEsTUFBTUosd0RBQWdCQSxDQUFDSyxZQUFZLENBQUNGO1lBQ3ZELElBQUksQ0FBQ0MsV0FBV0UsT0FBTyxFQUFFO2dCQUN2QixPQUFPO29CQUFFQyxTQUFTO29CQUFPQyxPQUFPSixXQUFXSSxLQUFLO2dCQUFDO1lBQ25EO1lBRUEsTUFBTUMsV0FBV1YsK0VBQTBCQTtZQUMzQyxNQUFNLEVBQUVXLElBQUksRUFBRUYsS0FBSyxFQUFFLEdBQUcsTUFBTUMsU0FDM0JFLElBQUksQ0FBQyxXQUNMQyxNQUFNLENBQUUscUxBV1JDLEtBQUssQ0FBQyxjQUFjO2dCQUFFQyxXQUFXO1lBQU07WUFFMUMsSUFBSU4sT0FBTyxNQUFNQTtZQUVqQixPQUFPO2dCQUFFRCxTQUFTO2dCQUFNRyxNQUFNQTtZQUFzQjtRQUN0RCxFQUFFLE9BQU9GLE9BQVk7WUFDbkJPLFFBQVFQLEtBQUssQ0FBQywyQkFBMkJBO1lBQ3pDLE9BQU87Z0JBQUVELFNBQVM7Z0JBQU9DLE9BQU9BLE1BQU1RLE9BQU8sSUFBSTtZQUEwQjtRQUM3RTtJQUNGO0lBRUE7O0dBRUMsR0FDRCxhQUFhQyxhQUFhZCxNQUFjLEVBQUVlLFVBQTRCLEVBQXFFO1FBQ3pJLElBQUk7WUFDRixNQUFNZCxhQUFhLE1BQU1KLHdEQUFnQkEsQ0FBQ0ssWUFBWSxDQUFDRjtZQUN2RCxJQUFJLENBQUNDLFdBQVdFLE9BQU8sRUFBRTtnQkFDdkIsT0FBTztvQkFBRUMsU0FBUztvQkFBT0MsT0FBT0osV0FBV0ksS0FBSztnQkFBQztZQUNuRDtZQUVBLE1BQU1DLFdBQVdWLCtFQUEwQkE7WUFDM0Msb0VBQW9FO1lBQ3BFLE1BQU1vQixVQUFlO2dC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QUksRUFBRUYsS0FBSyxFQUFFLEdBQUcsTUFBTUMsU0FDM0JFLElBQUksQ0FBQyxjQUNMQyxNQUFNLENBQUMsS0FDUEMsS0FBSyxDQUFDLFFBQVE7Z0JBQUVDLFdBQVc7WUFBSztZQUVuQyxJQUFJTixPQUFPLE1BQU1BO1lBRWpCLE9BQU87Z0JBQUVELFNBQVM7Z0JBQU1HO1lBQUs7UUFDL0IsRUFBRSxPQUFPRixPQUFZO1lBQ25CTyxRQUFRUCxLQUFLLENBQUMsOEJBQThCQTtZQUM1QyxPQUFPO2dCQUFFRCxTQUFTO2dCQUFPQyxPQUFPQSxNQUFNUSxPQUFPLElBQUk7WUFBOEI7UUFDakY7SUFDRjtJQUVBOztHQUVDLEdBQ0QsYUFBYWdDLHdCQUF3QjdDLE1BQWMsRUFBRStCLFFBQWdCLEVBQUVlLFdBQW9CLEVBQWlEO1FBQzFJLElBQUk7WUFDRixNQUFNN0MsYUFBYSxNQUFNSix3REFBZ0JBLENBQUNLLFlBQVksQ0FBQ0Y7WUFDdkQsSUFBSSxDQUFDQyxXQUFXRSxPQUFPLEVBQUU7Z0JBQ3ZCLE9BQU87b0JBQUVDLFNBQVM7b0JBQU9DLE9BQU9KLFdBQVdJLEtBQUs7Z0JBQUM7WUFDbkQ7WUFFQSxNQUFNQyxXQUFXViwrRUFBMEJBO1lBQzNDLE1BQU0sRUFBRVMsS0FBSyxFQUFFLEdBQUcsTUFBTUMsU0FDckJFLElBQUksQ0FBQyxXQUNMeUIsTUFBTSxDQUFDO2dCQUFFZixjQUFjNEI7WUFBWSxHQUNuQ1osRUFBRSxDQUFDLE1BQU1IO1lBRVosSUFBSTFCLE9BQU8sTUFBTUE7WUFFakIsT0FBTztnQkFBRUQsU0FBUztZQUFLO1FBQ3pCLEVBQUUsT0FBT0MsT0FBWTtZQUNuQk8sUUFBUVAsS0FBSyxDQUFDLHNDQUFzQ0E7WUFDcEQsT0FBTztnQkFBRUQsU0FBUztnQkFBT0MsT0FBT0EsTUFBTVEsT0FBTyxJQUFJO1lBQXlDO1FBQzVGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxFbGl4aXJTdHVkaW9cXERlc2t0b3BcXEhhYmlsaXhVcFxcc3JjXFxsaWJcXGFkbWluQ291cnNlU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnRTdXBhYmFzZUNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlQ2xpZW50J1xuaW1wb3J0IHsgQWRtaW5BdXRoU2VydmljZSB9IGZyb20gJy4vYWRtaW5BdXRoJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEFkbWluQ291cnNlIHtcbiAgaWQ6IHN0cmluZ1xuICB0aXRsZTogc3RyaW5nXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgc2hvcnRfZGVzY3JpcHRpb24/OiBzdHJpbmdcbiAgaW5zdHJ1Y3Rvcl9pZD86IHN0cmluZ1xuICBjYXRlZ29yeV9pZD86IHN0cmluZ1xuICBwcmljZTogbnVtYmVyXG4gIGR1cmF0aW9uPzogc3RyaW5nXG4gIGxldmVsPzogJ1ByaW5jaXBpYW50ZScgfCAnSW50ZXJtZWRpbycgfCAnQXZhbnphZG8nXG4gIGltYWdlX3VybD86IHN0cmluZ1xuICB2aWRlb19wcmV2aWV3X3VybD86IHN0cmluZ1xuICBpc19wdWJsaXNoZWQ6IGJvb2xlYW5cbiAgcmF0aW5nOiBudW1iZXJcbiAgc3R1ZGVudHNfY291bnQ6IG51bWJlclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgdXBkYXRlZF9hdDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRtaW5MZXNzb24ge1xuICBpZDogc3RyaW5nXG4gIGNvdXJzZV9pZDogc3RyaW5nXG4gIHRpdGxlOiBzdHJpbmdcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmdcbiAgY29udGVudD86IHN0cmluZ1xuICB2aWRlb191cmw/OiBzdHJpbmdcbiAgZHVyYXRpb24/OiBudW1iZXJcbiAgb3JkZXJfaW5kZXg6IG51bWJlclxuICBpc19mcmVlOiBib29sZWFuXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVDb3Vyc2VEYXRhIHtcbiAgdGl0bGU6IHN0cmluZ1xuICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gIHNob3J0X2Rlc2NyaXB0aW9uPzogc3RyaW5nXG4gIGNhdGVnb3J5X2lkPzogc3RyaW5nXG4gIHByaWNlOiBudW1iZXJcbiAgZHVyYXRpb24/OiBzdHJpbmdcbiAgbGV2ZWw/OiAnUHJpbmNpcGlhbnRlJyB8ICdJbnRlcm1lZGlvJyB8ICdBdmFuemFkbydcbiAgaW1hZ2VfdXJsPzogc3RyaW5nXG4gIHZpZGVvX3ByZXZpZXdfdXJsPzogc3RyaW5nXG4gIGlzX3B1Ymxpc2hlZD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVMZXNzb25EYXRhIHtcbiAgY291cnNlX2lkOiBzdHJpbmdcbiAgdGl0bGU6IHN0cmluZ1xuICBkZXNjcmlwdGlvbj86IHN0cmluZ1xuICBjb250ZW50Pzogc3RyaW5nXG4gIHZpZGVvX3VybD86IHN0cmluZ1xuICBkdXJhdGlvbj86IG51bWJlclxuICBvcmRlcl9pbmRleDogbnVtYmVyXG4gIGlzX2ZyZWU/OiBib29sZWFuXG59XG5cbmV4cG9ydCBjbGFzcyBBZG1pbkNvdXJzZVNlcnZpY2Uge1xuICAvKipcbiAgICogT2J0aWVuZSB0b2RvcyBsb3MgY3Vyc29zIChhZG1pbilcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRBbGxDb3Vyc2VzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE/OiBBZG1pbkNvdXJzZVtdOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBBZG1pbkF1dGhTZXJ2aWNlLnJlcXVpcmVBZG1pbih1c2VySWQpXG4gICAgICBpZiAoIWFkbWluQ2hlY2suaXNBZG1pbikge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGFkbWluQ2hlY2suZXJyb3IgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudFN1cGFiYXNlQ2xpZW50KClcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjb3Vyc2VzJylcbiAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgKixcbiAgICAgICAgICBjYXRlZ29yaWVzIChcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBzbHVnXG4gICAgICAgICAgKSxcbiAgICAgICAgICBwcm9maWxlcyAoXG4gICAgICAgICAgICBmdWxsX25hbWUsXG4gICAgICAgICAgICBlbWFpbFxuICAgICAgICAgIClcbiAgICAgICAgYClcbiAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcblxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZGF0YSBhcyBBZG1pbkNvdXJzZVtdIH1cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjb3Vyc2VzOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdFcnJvciBhbCBvYnRlbmVyIGN1cnNvcycgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhIHVuIG51ZXZvIGN1cnNvXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlQ291cnNlKHVzZXJJZDogc3RyaW5nLCBjb3Vyc2VEYXRhOiBDcmVhdGVDb3Vyc2VEYXRhKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE/OiBBZG1pbkNvdXJzZTsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgQWRtaW5BdXRoU2VydmljZS5yZXF1aXJlQWRtaW4odXNlcklkKVxuICAgICAgaWYgKCFhZG1pbkNoZWNrLmlzQWRtaW4pIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBhZG1pbkNoZWNrLmVycm9yIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRTdXBhYmFzZUNsaWVudCgpXG4gICAgICAvLyBTYW5pdGl6YXIgY2FtcG9zIG9wY2lvbmFsZXM6IGNvbnZlcnRpciBcIlwiIGEgbnVsbCB5IGFzZWd1cmFyIHRpcG9zXG4gICAgICBjb25zdCBwYXlsb2FkOiBhbnkgPSB7XG4gICAgICAgIC4uLmNvdXJzZURhdGEsXG4gICAgICAgIGluc3RydWN0b3JfaWQ6IHVzZXJJZCxcbiAgICAgICAgaXNfcHVibGlzaGVkOiBjb3Vyc2VEYXRhLmlzX3B1Ymxpc2hlZCB8fCBmYWxzZSxcbiAgICAgICAgcmF0aW5nOiAwLFxuICAgICAgICBzdHVkZW50c19jb3VudDogMCxcbiAgICAgIH1cbiAgICAgIGlmICghY291cnNlRGF0YS5jYXRlZ29yeV9pZCkgcGF5bG9hZC5jYXRlZ29yeV9pZCA9IG51bGxcbiAgICAgIGlmICghY291cnNlRGF0YS5pbWFnZV91cmwpIHBheWxvYWQuaW1hZ2VfdXJsID0gbnVsbFxuICAgICAgaWYgKCFjb3Vyc2VEYXRhLnZpZGVvX3ByZXZpZXdfdXJsKSBwYXlsb2FkLnZpZGVvX3ByZXZpZXdfdXJsID0gbnVsbFxuICAgICAgaWYgKCFjb3Vyc2VEYXRhLmR1cmF0aW9uKSBwYXlsb2FkLmR1cmF0aW9uID0gbnVsbFxuICAgICAgLy8gQXNlZ3VyYXIgbsO6bWVybyBlbiBwcmljZVxuICAgICAgcGF5bG9hZC5wcmljZSA9IE51bWJlci5pc0Zpbml0ZShjb3Vyc2VEYXRhLnByaWNlIGFzIGFueSkgPyBjb3Vyc2VEYXRhLnByaWNlIDogMFxuXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnY291cnNlcycpXG4gICAgICAgIC5pbnNlcnQocGF5bG9hZClcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG5cbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGRhdGEgYXMgQWRtaW5Db3Vyc2UgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGNvdXJzZTonLCBlcnJvcilcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRXJyb3IgYWwgY3JlYXIgY3Vyc28nIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWN0dWFsaXphIHVuIGN1cnNvXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgdXBkYXRlQ291cnNlKHVzZXJJZDogc3RyaW5nLCBjb3Vyc2VJZDogc3RyaW5nLCBjb3Vyc2VEYXRhOiBQYXJ0aWFsPENyZWF0ZUNvdXJzZURhdGE+KTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE/OiBBZG1pbkNvdXJzZTsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgQWRtaW5BdXRoU2VydmljZS5yZXF1aXJlQWRtaW4odXNlcklkKVxuICAgICAgaWYgKCFhZG1pbkNoZWNrLmlzQWRtaW4pIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBhZG1pbkNoZWNrLmVycm9yIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRTdXBhYmFzZUNsaWVudCgpXG4gICAgICAvLyBTYW5pdGl6YXI6IGNvbnZlcnRpciBzdHJpbmdzIHZhY8Otb3MgYSBudWxsIHBhcmEgY29sdW1uYXMgVVVJRC9VUkwvdGV4dCBvcGNpb25hbGVzXG4gICAgICBjb25zdCBwYXRjaDogYW55ID0geyAuLi5jb3Vyc2VEYXRhIH1cbiAgICAgIGlmIChwYXRjaC5jYXRlZ29yeV9pZCA9PT0gJycpIHBhdGNoLmNhdGVnb3J5X2lkID0gbnVsbFxuICAgICAgaWYgKHBhdGNoLmltYWdlX3VybCA9PT0gJycpIHBhdGNoLmltYWdlX3VybCA9IG51bGxcbiAgICAgIGlmIChwYXRjaC52aWRlb19wcmV2aWV3X3VybCA9PT0gJycpIHBhdGNoLnZpZGVvX3ByZXZpZXdfdXJsID0gbnVsbFxuICAgICAgaWYgKHBhdGNoLmR1cmF0aW9uID09PSAnJykgcGF0Y2guZHVyYXRpb24gPSBudWxsXG4gICAgICBpZiAodHlwZW9mIHBhdGNoLnByaWNlICE9PSAndW5kZWZpbmVkJykgcGF0Y2gucHJpY2UgPSBOdW1iZXIocGF0Y2gucHJpY2UpIHx8IDBcblxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2NvdXJzZXMnKVxuICAgICAgICAudXBkYXRlKHBhdGNoKVxuICAgICAgICAuZXEoJ2lkJywgY291cnNlSWQpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKClcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBkYXRhIGFzIEFkbWluQ291cnNlIH1cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBjb3Vyc2U6JywgZXJyb3IpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0Vycm9yIGFsIGFjdHVhbGl6YXIgY3Vyc28nIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRWxpbWluYSB1biBjdXJzb1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZUNvdXJzZSh1c2VySWQ6IHN0cmluZywgY291cnNlSWQ6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFkbWluQ2hlY2sgPSBhd2FpdCBBZG1pbkF1dGhTZXJ2aWNlLnJlcXVpcmVBZG1pbih1c2VySWQpXG4gICAgICBpZiAoIWFkbWluQ2hlY2suaXNBZG1pbikge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGFkbWluQ2hlY2suZXJyb3IgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudFN1cGFiYXNlQ2xpZW50KClcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjb3Vyc2VzJylcbiAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgIC5lcSgnaWQnLCBjb3Vyc2VJZClcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBjb3Vyc2U6JywgZXJyb3IpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0Vycm9yIGFsIGVsaW1pbmFyIGN1cnNvJyB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9idGllbmUgbGFzIGxlY2Npb25lcyBkZSB1biBjdXJzb1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldENvdXJzZUxlc3NvbnModXNlcklkOiBzdHJpbmcsIGNvdXJzZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YT86IEFkbWluTGVzc29uW107IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IEFkbWluQXV0aFNlcnZpY2UucmVxdWlyZUFkbWluKHVzZXJJZClcbiAgICAgIGlmICghYWRtaW5DaGVjay5pc0FkbWluKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYWRtaW5DaGVjay5lcnJvciB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50U3VwYWJhc2VDbGllbnQoKVxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCdjb3Vyc2VfaWQnLCBjb3Vyc2VJZClcbiAgICAgICAgLm9yZGVyKCdvcmRlcl9pbmRleCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcblxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZGF0YSBhcyBBZG1pbkxlc3NvbltdIH1cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBsZXNzb25zOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdFcnJvciBhbCBvYnRlbmVyIGxlY2Npb25lcycgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhIHVuYSBudWV2YSBsZWNjacOzblxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUxlc3Nvbih1c2VySWQ6IHN0cmluZywgbGVzc29uRGF0YTogQ3JlYXRlTGVzc29uRGF0YSk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhPzogQWRtaW5MZXNzb247IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IEFkbWluQXV0aFNlcnZpY2UucmVxdWlyZUFkbWluKHVzZXJJZClcbiAgICAgIGlmICghYWRtaW5DaGVjay5pc0FkbWluKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYWRtaW5DaGVjay5lcnJvciB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50U3VwYWJhc2VDbGllbnQoKVxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxuICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICAuLi5sZXNzb25EYXRhLFxuICAgICAgICAgIGlzX2ZyZWU6IGxlc3NvbkRhdGEuaXNfZnJlZSB8fCBmYWxzZVxuICAgICAgICB9KVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcblxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZGF0YSBhcyBBZG1pbkxlc3NvbiB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgbGVzc29uOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdFcnJvciBhbCBjcmVhciBsZWNjacOzbicgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBY3R1YWxpemEgdW5hIGxlY2Npw7NuXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgdXBkYXRlTGVzc29uKHVzZXJJZDogc3RyaW5nLCBsZXNzb25JZDogc3RyaW5nLCBsZXNzb25EYXRhOiBQYXJ0aWFsPENyZWF0ZUxlc3NvbkRhdGE+KTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE/OiBBZG1pbkxlc3NvbjsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgQWRtaW5BdXRoU2VydmljZS5yZXF1aXJlQWRtaW4odXNlcklkKVxuICAgICAgaWYgKCFhZG1pbkNoZWNrLmlzQWRtaW4pIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBhZG1pbkNoZWNrLmVycm9yIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRTdXBhYmFzZUNsaWVudCgpXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnbGVzc29ucycpXG4gICAgICAgIC51cGRhdGUobGVzc29uRGF0YSlcbiAgICAgICAgLmVxKCdpZCcsIGxlc3NvbklkKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcblxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZGF0YSBhcyBBZG1pbkxlc3NvbiB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgbGVzc29uOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdFcnJvciBhbCBhY3R1YWxpemFyIGxlY2Npw7NuJyB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVsaW1pbmEgdW5hIGxlY2Npw7NuXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZGVsZXRlTGVzc29uKHVzZXJJZDogc3RyaW5nLCBsZXNzb25JZDogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IEFkbWluQXV0aFNlcnZpY2UucmVxdWlyZUFkbWluKHVzZXJJZClcbiAgICAgIGlmICghYWRtaW5DaGVjay5pc0FkbWluKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYWRtaW5DaGVjay5lcnJvciB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50U3VwYWJhc2VDbGllbnQoKVxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2xlc3NvbnMnKVxuICAgICAgICAuZGVsZXRlKClcbiAgICAgICAgLmVxKCdpZCcsIGxlc3NvbklkKVxuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG5cbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGxlc3NvbjonLCBlcnJvcilcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRXJyb3IgYWwgZWxpbWluYXIgbGVjY2nDs24nIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT2J0aWVuZSB0b2RhcyBsYXMgY2F0ZWdvcsOtYXNcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRDYXRlZ29yaWVzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE/OiBhbnlbXTsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhZG1pbkNoZWNrID0gYXdhaXQgQWRtaW5BdXRoU2VydmljZS5yZXF1aXJlQWRtaW4odXNlcklkKVxuICAgICAgaWYgKCFhZG1pbkNoZWNrLmlzQWRtaW4pIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBhZG1pbkNoZWNrLmVycm9yIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRTdXBhYmFzZUNsaWVudCgpXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnY2F0ZWdvcmllcycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAub3JkZXIoJ25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG5cbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNhdGVnb3JpZXM6JywgZXJyb3IpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0Vycm9yIGFsIG9idGVuZXIgY2F0ZWdvcsOtYXMnIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHVibGljYS9kZXNwdWJsaWNhIHVuIGN1cnNvXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgdG9nZ2xlQ291cnNlUHVibGljYXRpb24odXNlcklkOiBzdHJpbmcsIGNvdXJzZUlkOiBzdHJpbmcsIGlzUHVibGlzaGVkOiBib29sZWFuKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWRtaW5DaGVjayA9IGF3YWl0IEFkbWluQXV0aFNlcnZpY2UucmVxdWlyZUFkbWluKHVzZXJJZClcbiAgICAgIGlmICghYWRtaW5DaGVjay5pc0FkbWluKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYWRtaW5DaGVjay5lcnJvciB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50U3VwYWJhc2VDbGllbnQoKVxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2NvdXJzZXMnKVxuICAgICAgICAudXBkYXRlKHsgaXNfcHVibGlzaGVkOiBpc1B1Ymxpc2hlZCB9KVxuICAgICAgICAuZXEoJ2lkJywgY291cnNlSWQpXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcblxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdG9nZ2xpbmcgY291cnNlIHB1YmxpY2F0aW9uOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdFcnJvciBhbCBjYW1iaWFyIGVzdGFkbyBkZSBwdWJsaWNhY2nDs24nIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnRTdXBhYmFzZUNsaWVudCIsIkFkbWluQXV0aFNlcnZpY2UiLCJBZG1pbkNvdXJzZVNlcnZpY2UiLCJnZXRBbGxDb3Vyc2VzIiwidXNlcklkIiwiYWRtaW5DaGVjayIsInJlcXVpcmVBZG1pbiIsImlzQWRtaW4iLCJzdWNjZXNzIiwiZXJyb3IiLCJzdXBhYmFzZSIsImRhdGEiLCJmcm9tIiwic2VsZWN0Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJjb25zb2xlIiwibWVzc2FnZSIsImNyZWF0ZUNvdXJzZSIsImNvdXJzZURhdGEiLCJwYXlsb2FkIiwiaW5zdHJ1Y3Rvcl9pZCIsImlzX3B1Ymxpc2hlZCIsInJhdGluZyIsInN0dWRlbnRzX2NvdW50IiwiY2F0ZWdvcnlfaWQiLCJpbWFnZV91cmwiLCJ2aWRlb19wcmV2aWV3X3VybCIsImR1cmF0aW9uIiwicHJpY2UiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImluc2VydCIsInNpbmdsZSIsInVwZGF0ZUNvdXJzZSIsImNvdXJzZUlkIiwicGF0Y2giLCJ1cGRhdGUiLCJlcSIsImRlbGV0ZUNvdXJzZSIsImRlbGV0ZSIsImdldENvdXJzZUxlc3NvbnMiLCJjcmVhdGVMZXNzb24iLCJsZXNzb25EYXRhIiwiaXNfZnJlZSIsInVwZGF0ZUxlc3NvbiIsImxlc3NvbklkIiwiZGVsZXRlTGVzc29uIiwiZ2V0Q2F0ZWdvcmllcyIsInRvZ2dsZUNvdXJzZVB1YmxpY2F0aW9uIiwiaXNQdWJsaXNoZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/adminCourseService.ts\n"));

/***/ })

});